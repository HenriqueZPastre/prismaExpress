// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Envolvidos {
    id          Int           @id @default(autoincrement())
    create_at   DateTime      @default(now())
    deletede_at DateTime
    Nome        String
    Lancamentos Lancamentos[]
}

model TiposLancamentos {
    id          Int          @id @default(autoincrement())
    create_at   DateTime     @default(now())
    deletede_at DateTime?
    Nome        String
    Categorias  Categorias[]
}

model Categorias {
    id                 Int              @id @default(autoincrement())
    create_at          DateTime         @default(now())
    deletede_at        DateTime
    Nome               String
    TiposLancamentosID Int
    TiposLancamentos   TiposLancamentos @relation(fields: [TiposLancamentosID], references: [id])
    Lancamentos        Lancamentos[]
    Subcategorias      Subcategorias[]
}

model Subcategorias {
    id           Int           @id @default(autoincrement())
    create_at    DateTime      @default(now())
    deletede_at  DateTime
    Nome         String
    CategoriasID Int
    Categorias   Categorias    @relation(fields: [CategoriasID], references: [id])
    Lancamentos  Lancamentos[]
}

model Contas {
    id           Int           @id @default(autoincrement())
    create_at    DateTime      @default(now())
    deletede_at  DateTime
    Nome         String
    SaldoInicial Float
    SaldoAtual   Float
    Lancamentos  Lancamentos[]
}

model Lancamentos {
    id                 Int           @id @default(autoincrement())
    create_at          DateTime      @default(now())
    deletede_at        DateTime
    Nome               String
    Data               DateTime
    DataPagamento      DateTime
    DescricaoBasica    String
    DescricaoAdicional String
    Valor              Float
    Situacao           Int
    EnvolvidosID       Int
    Envolvidos         Envolvidos    @relation(fields: [EnvolvidosID], references: [id])
    ContasID           Int
    Contas             Contas        @relation(fields: [ContasID], references: [id])
    CategoriasID       Int
    Categorias         Categorias    @relation(fields: [CategoriasID], references: [id])
    SubcategoriasID    Int
    Subcategorias      Subcategorias @relation(fields: [SubcategoriasID], references: [id])
}
