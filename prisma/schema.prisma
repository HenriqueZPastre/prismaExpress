// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Envolvidos {
    id          Int           @id @default(autoincrement())
    create_at   DateTime      @default(now())
    deletede_at DateTime?
    nome        String
    Lancamentos Lancamentos[]
}

model TiposLancamentos {
    id          Int          @id @default(autoincrement())
    create_at   DateTime     @default(now())
    deletede_at DateTime?
    nome        String       @unique
    Categorias  Categorias[]
}

model Categorias {
    id                 Int              @id @default(autoincrement())
    create_at          DateTime         @default(now())
    deletede_at        DateTime?
    nome               String
    tiposLancamentosId Int
    tiposLancamentos   TiposLancamentos @relation(fields: [tiposLancamentosId], references: [id])
    Lancamentos        Lancamentos[]
    Subcategorias      Subcategorias[]
}

model Subcategorias {
    id           Int           @id @default(autoincrement())
    create_at    DateTime      @default(now())
    deletede_at  DateTime?
    nome         String
    categoriasId Int
    categorias   Categorias    @relation(fields: [categoriasId], references: [id])
    Lancamentos  Lancamentos[]
}

model Contas {
    id           Int           @id @default(autoincrement())
    create_at    DateTime      @default(now())
    deletede_at  DateTime?
    nome         String
    saldoInicial Float
    saldoAtual   Float
    Lancamentos  Lancamentos[]
}

model Lancamentos {
    id                 Int            @id @default(autoincrement())
    create_at          DateTime       @default(now())
    deletede_at        DateTime?
    nome               String
    dataVencimento     DateTime
    dataPagamento      DateTime?
    descricaoBasica    String
    descricaoAdicional String?
    valor              Float
    situacaoId         Int
    situacao           Situacao       @relation(fields: [situacaoId], references: [id])
    envolvidosId       Int
    envolvidos         Envolvidos     @relation(fields: [envolvidosId], references: [id])
    contasId           Int
    contas             Contas         @relation(fields: [contasId], references: [id])
    categoriasId       Int
    categorias         Categorias     @relation(fields: [categoriasId], references: [id])
    subcategoriasId    Int?
    subcategorias      Subcategorias? @relation(fields: [subcategoriasId], references: [id])
}

model Situacao {
    id          Int           @id @default(autoincrement())
    create_at   DateTime      @default(now())
    deletede_at DateTime?
    nome        String
    Lancamentos Lancamentos[]
}
